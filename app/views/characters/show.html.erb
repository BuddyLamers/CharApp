<header>
  <h1>
    <a href="<%= user_url(@character.creator) %>">
    <%= @character.creator.username %>
    </a>
      /
    <a href="<%= character_url(@character) %>">
      <%= @character.name %>
    </a>
  </h1>
  <small><%= @character.updated_at %></small>
  <div class="social-stats">
    <ul>
      <li>settings</li>
      <% if @character.creator == current_user %>
      <li>
      <%= button_to "Edit",
            edit_character_url(@character),
            method: :get %>
      </li>
      <li>
      <%= button_to "Delete",
            character_url(@character),
            method: :delete %>
            <!-- confirmation message with JS -->
      </li>
      <% else %>
      <li>

        <% if !current_user.has_already_forked_character?(@character) %>
        <%= button_to "Fork",
        character_forks_url(@character),
        method: :post
         %>
         <% else %>
         Forked!
         <% end %>

      </li>
      <% end %>
      <li>
      <% if !current_user.has_already_starred_character?(@character) %>
              <%= button_to "Star",
              character_stars_url(@character),
              method: :post
               %>
               <% else %>
               Starred!
               <% end %>

      </li>

    </ul>
  </div>
</header>

<body>

<i class='tagline'><%= @character.tagline %></i>

<section class="sidebar">

  <ul class="display-sidebox">
        <li>Character Details
          <i class= "details-count">
            <%= @character.details_count %>
          </i>
        </li>
        <li>Revisions --not implemented</li>
  </ul>
</section>

<!-- this section should be refactoreed to render partial
detail _show -->
<main class='main-list'>
  <% if !@character.details.nil? %>
  <ul class="list-display">
    <% @character.details.each do |detail|%>
    <li>
      <b> <%= detail.title %></b>
      <p> <%= detail.body %></p>
    </li>
    <% end %>
  </ul>
  <% end %>
</main>



<%= render @comments %>

<%= render partial: 'comments/form' %>




</body>